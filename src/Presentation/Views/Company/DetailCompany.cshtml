@model Application.DTOs.Company.Response.DetailCompanyDTO;

@{
    var company = Model;
    ViewData["Title"] = $"Empresa - {company.Name}";
    Layout = "_Layout";
}

@await Component.InvokeAsync("Menu")

<link rel="stylesheet" href="~/css/details/details.css" asp-append-version="true" />
<link rel="stylesheet" href="~/css/elements/box-orders.css" asp-append-version="true" />
<script src="~/js/utils/pagination.js"></script>

<section class="container-fluid" style="margin-top: -1.9rem; margin-bottom: -2rem; padding: 4rem;">

    <div class="details-page-title">
        <h2><b>@company.Name</b></h2>
    </div>

    <div class="main-details">
        @* <h3>Dados do Sabor</h3> *@
        <div class="main-details-content">
            <p><b>CNPJ:</b> @company.CNPJ</p>
            <p><b>Quantidade de Funcionários:</b> @company.Employees.Count() funcionário(s)</p>
        </div>
    </div>

    <div class="orders-details">

        <div class="details-title">
            <h3>Pedidos</h3>
            <span class="last-month-data">Dados dos Últimos 30 dias</span>
        </div>

    </div>

    <div class="orders-details">

        <div class="details-title">
            <h3>Quadro de Funcionários</h3>
        </div>

        @if (company.Employees.Count() > 0)
        {
            <div class="mt-4">
                <table class="table styled-table">
                    <caption>Registros encontrados: <b>@company.Employees.Count()</b> funcionário(s)</caption>
                    <thead>
                        <tr>
                            <th>Detalhes</th>
                            <th>Nome</th>
                            <th>E-mail</th>
                            <th>Nome de Usuário</th>
                        </tr>
                    </thead>
                    <tbody id="employees-tableBody">
                        @foreach (var user in company.Employees)
                        {
                            <tr>
                                <td style="max-width: 50px;">
                                    <a type="button" asp-controller="Employee" asp-action="DetailEmployee"
                                        asp-route-employeeUsername="@user.Username">
                                        <i class="fa-solid fa-circle-info fa-lg"></i>
                                    </a>
                                </td>
                                <td>@user.Name</td>
                                <td>@user.Email</td>
                                <td>@user.Username</td>
                            </tr>
                        }
                    </tbody>
                </table>
            </div>

            @* <div class="pagination justify-content-center">
        <button id="previousPage" class="btn btn-primary-custom btn-sm previous-page">
        <i class="fa-solid fa-chevron-left" style="color: #ffffff;"></i>
        </button>

        <div class="current-and-total-pages">
        <span id="currentPage" class="current-page-filter">Página 1 </span>
        <span id="totalPages" class="total-page-filter"> de 1</span>
        </div>

        <button id="nextPage" class="btn btn-primary-custom btn-sm ">
        <i class="fa-solid fa-chevron-right" style="color: #ffffff;"></i>
        </button>
        </div>
        </div> *@
        }
    </div>

</section>