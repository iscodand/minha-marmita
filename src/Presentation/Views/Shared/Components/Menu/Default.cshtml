@model Presentation.ViewModels.Menu.GetUserDataViewModel;

<!-- Navbar -->
<nav class="bg-blue-600 p-4 flex justify-between items-center fixed w-full z-10">
    <div class="flex items-center">
        <button onclick="toggleSidebar()" class="text-white lg:hidden focus:outline-none mr-4">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
            </svg>
        </button>
        <div class="text-white font-bold text-xl">
            Minha Marmita
        </div>
    </div>
    <!-- User Dropdown -->
    <div class="relative">
        <button onclick="toggleDropdown()" class="text-white flex items-center focus:outline-none">
            <span class="mr-2">@Model.Name</span>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
            </svg>
        </button>
        <!-- Dropdown menu -->
        <div id="dropdown" class="hidden absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10">
            <ul class="py-1 text-gray-700">
                <li><a href="#" class="block px-4 py-2 hover:bg-gray-100">Meu Perfil</a></li>
                <form asp-controller="Authentication" asp-action="Logout">
                    <li>
                        <button type="submit" class="px-4 py-2 hover:bg-gray-100">Logout</button>
                    </li>
                </form>
            </ul>
        </div>
    </div>
</nav>

<div class="flex mt-14">
    <!-- Sidebar -->
    <aside id="sidebar"
        class="fixed lg:static w-64 h-screen bg-gray-800 text-white transition-transform transform lg:translate-x-0 -translate-x-full">
        <ul class="space-y-2 p-4">
            <li>
                <a asp-controller="Home" asp-action="Home" class="block p-2 hover:bg-gray-700 rounded">Home</a>
            </li>
            <li>
                <a asp-controller="Order" asp-action="Orders" class="block p-2 hover:bg-gray-700 rounded">Pedidos</a>
            </li>
            <li>
                <a asp-controller="Meal" asp-action="Meals" class="block p-2 hover:bg-gray-700 rounded">Sabores</a>
            </li>
            <li>
                <a asp-controller="Customer" asp-action="Customers"
                    class="block p-2 hover:bg-gray-700 rounded">Clientes</a>
            </li>

            @if (User.IsInRole("Admin") || User.IsInRole("Manager") || User.IsInRole("SuperAdmin"))
            {
                <li><a asp-controller="Employee" asp-action="Employees"
                        class="block p-2 hover:bg-gray-700 rounded">Funcionários</a>
                </li>
                <li><a asp-controller="Company" asp-action="MyCompany" class="block p-2 hover:bg-gray-700 rounded">Minha
                        Empresa (Não Implementado)</a>
                </li>

            }

            @if (User.IsInRole("SuperAdmin"))
            {
                <li><a asp-controller="Company" asp-action="GetCompanies"
                        class="block p-2 hover:bg-gray-700 rounded">Empresas</a></li>
            }
        </ul>
    </aside>
</div>

<script>
    // Toggle dropdown function
    function toggleDropdown() {
        document.getElementById('dropdown').classList.toggle('hidden');
    }

    // Toggle sidebar function
    function toggleSidebar() {
        document.getElementById('sidebar').classList.toggle('hidden');
    }
</script>